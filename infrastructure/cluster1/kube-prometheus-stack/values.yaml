prometheus:
  prometheusSpec:
    resources:
      limits:
        cpu: 1
        memory: 512Mi
      requests:
        cpu: 1
        memory: 256Mi
  ingress:
    enabled: true
    ingressClassName: nginx
    annotations:
      acme.cert-manager.io/http01-ingress-class: nginx
      cert-manager.io/cluster-issuer: letsencrypt
      nginx.ingress.kubernetes.io/whitelist-source-range: "10.0.0.0/8,192.168.0.0/16"
    tls:
    - secretName: prometheus-general-tls
      hosts:
      - prometheus.home.wugi.info
    hosts:
    - prometheus.home.wugi.info

alertmanager:
  ingress:
    enabled: true
    ingressClassName: nginx
    annotations:
      acme.cert-manager.io/http01-ingress-class: nginx
      cert-manager.io/cluster-issuer: letsencrypt
      nginx.ingress.kubernetes.io/whitelist-source-range: "10.0.0.0/8,192.168.0.0/16"
    tls:
    - secretName: alertmanager-general-tls
      hosts:
      - alertmanager.home.wugi.info
    hosts:
    - alertmanager.home.wugi.info

grafana:
  ingress:
    enabled: true
    ingressClassName: nginx
    annotations:
      acme.cert-manager.io/http01-ingress-class: nginx
      cert-manager.io/cluster-issuer: letsencrypt
      nginx.ingress.kubernetes.io/whitelist-source-range: "10.0.0.0/8,192.168.0.0/16"
    tls:
    - secretName: grafana-general-tls
      hosts:
      - grafana.home.wugi.info
    hosts:
    - grafana.home.wugi.info
  datasources:
    datasources.yaml:
      apiVersion: 1
      datasources:
      - name: Prometheus Deprecated
        type: prometheus
        uid: prometheus-deprecated
        url: http://prometheus.wugi.info
        access: proxy
        isDefault: false
        jsonData:
          timeInterval: 30s

prometheus-node-exporter:
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchExpressions:
          - key: prometheus-node-exporter.cluster.local/schedulable
            operator: NotIn
            values:
            - "false"
          - key: kubernetes.io/os
            operator: NotIn
            values:
            - "windows"

kubeControllerManager:
  endpoints:
  - 192.168.154.1
  service:
    port: 10252
    targetPort: 10252
  serviceMonitor:
    https: 'true'
    insecureSkipVerify: 'true'

kubeScheduler:
  endpoints:
  - 192.168.154.1
  service:
    port: 10251
    targetPort: 10251
  serviceMonitor:
    https: 'true'
    insecureSkipVerify: 'true'

kubeEtcd:
  endpoints:
  - 192.168.154.1
