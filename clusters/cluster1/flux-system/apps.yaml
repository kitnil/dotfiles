---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: novnc-guix
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/novnc-guix
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: novnc-tv
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/novnc-tv
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: windows-gpu-passthrough
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/windows-gpu-passthrough
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: windows-novnc-firefox
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/windows-novnc-firefox
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: peertube
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/peertube
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: metube
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/metube
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: podinfo
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/podinfo
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: guix
  namespace: flux-system
spec:
  interval: 1m0s
  path: ./apps/cluster1/guix
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: guix-vm-pc0
  namespace: flux-system
spec:
  interval: 1m0s
  path: ./apps/cluster1/guix-vm-pc0
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: samba
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/samba
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: registry
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/registry
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: qbittorrent-exporter
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/qbittorrent-exporter
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: 3proxy-tor
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/3proxy-tor
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: 3proxy-byedpi
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/3proxy-byedpi
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: byedpi
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/byedpi
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maloja
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maloja
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: homebox
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/homebox
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: kubernetes-dashboard
  namespace: flux-system
spec:
  interval: 10m0s
  path: ./apps/cluster1/kubernetes-dashboard
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: tor-controller
  namespace: flux-system
spec:
  interval: 10m0s
  path: ./apps/base/tor-controller
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: tor-controller-instance
  namespace: flux-system
spec:
  interval: 10m0s
  path: ./apps/cluster1/tor-controller-instance
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: karma
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/karma
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: popeye
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/popeye
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: i2pd
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/i2pd
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: webtlo
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/webtlo
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-guix
  prune: true
  # Setting spec.wait to true makes Flux wait for the Job to complete before
  # it is considered ready.
  wait: true
  timeout: 2m
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-vm1
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/maintenance-vm1
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-bird
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/maintenance-guix-refresh-bird
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-gource
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/maintenance-guix-refresh-gource
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-jc
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/maintenance-guix-refresh-jc
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-bats
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/maintenance-guix-refresh-bats
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-firefox-decrypt
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/maintenance-guix-refresh-firefox-decrypt
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-cava
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/maintenance-guix-refresh-cava
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-gita
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/maintenance-guix-refresh-gita
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-git-dotfiles-kube2
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-git-dotfiles-kube2
  prune: true
  # This means that the maintenance-guix-home-reconfigure-kube2 Kustomization
  # will wait until all the Jobs in maintenance-git-dotfiles-kube2 run to
  # completion. If the Job fails, the app changes will not be applied by the
  # app-deploy Kustomization.
  dependsOn:
  - name: maintenance-git-dotfiles
  # Setting spec.wait to true makes Flux wait for the Job to complete before
  # it is considered ready.
  wait: true
  timeout: 2m
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-pull-kube2
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-guix-pull-kube2
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-system-reconfigure-kube2
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-guix-system-reconfigure-kube2
  # This means that the maintenance-guix-package-manifest-kube3 Kustomization
  # will wait until all the Jobs in maintenance-guix-pull-kube3 run to
  # completion. If the Job fails, the app changes will not be applied by the
  # app-deploy Kustomization.
  dependsOn:
  - name: maintenance-git-dotfiles-kube2
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-package-manifest-kube2
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-guix-package-manifest-kube2
  prune: true
  # This means that the maintenance-guix-package-manifest-kube2 Kustomization
  # will wait until all the Jobs in maintenance-guix-pull-kube2 run to
  # completion. If the Job fails, the app changes will not be applied by the
  # app-deploy Kustomization.
  dependsOn:
  - name: maintenance-guix-pull-kube2
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: nix
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/nix
  prune: true
  wait: true
  timeout: 2m
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-nix-home-reconfigure-kube1
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-nix-home-reconfigure-kube1
  prune: true
  # This means that the maintenance-guix-package-manifest-kube1 Kustomization
  # will wait until all the Jobs in maintenance-guix-pull-kube1 run to
  # completion. If the Job fails, the app changes will not be applied by the
  # app-deploy Kustomization.
  dependsOn:
  - name: nix
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-nix-home-reconfigure-kube2
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-nix-home-reconfigure-kube2
  prune: true
  # This means that the maintenance-guix-package-manifest-kube2 Kustomization
  # will wait until all the Jobs in maintenance-guix-pull-kube2 run to
  # completion. If the Job fails, the app changes will not be applied by the
  # app-deploy Kustomization.
  dependsOn:
  - name: nix
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-nix-home-reconfigure-kube3
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-nix-home-reconfigure-kube3
  prune: true
  # This means that the maintenance-guix-package-manifest-kube3 Kustomization
  # will wait until all the Jobs in maintenance-guix-pull-kube3 run to
  # completion. If the Job fails, the app changes will not be applied by the
  # app-deploy Kustomization.
  dependsOn:
  - name: nix
  - name: maintenance-git-dotfiles
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-dns
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/maintenance-dns
  prune: true
  # This means that the maintenance-guix-package-manifest-kube2 Kustomization
  # will wait until all the Jobs in maintenance-guix-pull-kube2 run to
  # completion. If the Job fails, the app changes will not be applied by the
  # app-deploy Kustomization.
  dependsOn:
  - name: nix
  wait: true
  timeout: 2m
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-latest-local-file
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/maintenance-guix-latest-local-file
  prune: true
  # Setting spec.wait to true makes Flux wait for the Job to complete before
  # it is considered ready.
  wait: true
  timeout: 2m
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-pull-kube1
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-guix-pull-kube1
  prune: true
  # Setting spec.wait to true makes Flux wait for the Job to complete before
  # it is considered ready.
  wait: true
  timeout: 2m
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-system-reconfigure-kube1
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-guix-system-reconfigure-kube1
  prune: true
  # This means that the maintenance-guix-home-reconfigure-kube1 Kustomization
  # will wait until all the Jobs in maintenance-guix-pull-kube1 run to
  # completion. If the Job fails, the app changes will not be applied by the
  # app-deploy Kustomization.
  dependsOn:
  - name: maintenance-guix-pull-kube1
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-package-manifest-kube1
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-guix-package-manifest-kube1
  prune: true
  # This means that the maintenance-guix-package-manifest-kube1 Kustomization
  # will wait until all the Jobs in maintenance-guix-pull-kube1 run to
  # completion. If the Job fails, the app changes will not be applied by the
  # app-deploy Kustomization.
  dependsOn:
  - name: maintenance-guix-pull-kube1
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-home-reconfigure-kube1
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-guix-home-reconfigure-kube1
  prune: true
  # This means that the maintenance-guix-home-reconfigure-kube1 Kustomization
  # will wait until all the Jobs in maintenance-guix-pull-kube1 run to
  # completion. If the Job fails, the app changes will not be applied by the
  # app-deploy Kustomization.
  dependsOn:
  - name: maintenance-guix-pull-kube1
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-home-reconfigure-kube2
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-guix-home-reconfigure-kube2
  prune: true
  # This means that the maintenance-guix-home-reconfigure-kube2 Kustomization
  # will wait until all the Jobs in maintenance-guix-pull-kube2 run to
  # completion. If the Job fails, the app changes will not be applied by the
  # app-deploy Kustomization.
  dependsOn:
  - name: maintenance-guix-pull-kube2
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-pull-kube3
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-guix-pull-kube3
  prune: true
  # This means that the maintenance-guix-home-reconfigure-kube5001 Kustomization
  # will wait until all the Jobs in maintenance-git-dotfiles-kube5001 run to
  # completion. If the Job fails, the app changes will not be applied by the
  # app-deploy Kustomization.
  dependsOn:
  - name: maintenance-guix
  - name: maintenance-git-dotfiles-kube3
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-home-reconfigure-kube3
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-guix-home-reconfigure-kube3
  prune: true
  dependsOn:
  - name: maintenance-git-dotfiles-kube3
  - name: maintenance-guix-pull-kube3
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-system-reconfigure-kube3
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-guix-system-reconfigure-kube3
  prune: true
  dependsOn:
  - name: maintenance-guix-pull-kube3
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-dotfiles-update-commit
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-dotfiles-update-commit
  prune: true
  dependsOn:
  - name: maintenance-git-dotfiles
  # Setting spec.wait to true makes Flux wait for the Job to complete before
  # it is considered ready.
  wait: true
  timeout: 2m
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-git-dotfiles
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-git-dotfiles
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-git-dotfiles-kube3
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-git-dotfiles-kube3
  prune: true
  # This means that the maintenance-guix-home-reconfigure-kube3 Kustomization
  # will wait until all the Jobs in maintenance-git-dotfiles-kube3 run to
  # completion. If the Job fails, the app changes will not be applied by the
  # app-deploy Kustomization.
  dependsOn:
  - name: maintenance-git-dotfiles
  # Setting spec.wait to true makes Flux wait for the Job to complete before
  # it is considered ready.
  wait: true
  timeout: 2m
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-copy-kube3
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-guix-copy-kube3
  prune: true
  # This means that the maintenance-guix-home-reconfigure-kube3 Kustomization
  # will wait until all the Jobs in maintenance-git-dotfiles-kube3 run to
  # completion. If the Job fails, the app changes will not be applied by the
  # app-deploy Kustomization.
  dependsOn:
  - name: maintenance-git-dotfiles
  # Setting spec.wait to true makes Flux wait for the Job to complete before
  # it is considered ready.
  wait: true
  timeout: 2m
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-package-manifest-kube3
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-guix-package-manifest-kube3
  prune: true
  # This means that the maintenance-guix-package-manifest-kube3 Kustomization
  # will wait until all the Jobs in maintenance-guix-pull-kube3 run to
  # completion. If the Job fails, the app changes will not be applied by the
  # app-deploy Kustomization.
  dependsOn:
  - name: maintenance-guix-pull-kube3
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: majordomo-gitlab
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/majordomo-gitlab
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: haproxy
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/haproxy
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: fio
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/fio
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: fio-kube3
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/fio-kube3
  prune: true
  dependsOn:
  - name: fio
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: restreamer
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/restreamer
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: redsocks
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/base/redsocks
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-git-guix-kube1
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/maintenance-git-guix-kube1
  prune: true
  # Setting spec.wait to true makes Flux wait for the Job to complete before
  # it is considered ready.
  wait: true
  timeout: 2m
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: clamav-kube1
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/clamav-kube1
  prune: true
  # Setting spec.wait to true makes Flux wait for the Job to complete before
  # it is considered ready.
  wait: true
  timeout: 2m
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: state-to-git
  namespace: flux-system
spec:
  interval: 30m0s
  path: ./apps/cluster1/state-to-git
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: skopeo-copy-openwrt
  namespace: flux-system
spec:
  interval: 10m0s
  path: ./apps/cluster1/skopeo-copy-openwrt
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-image-workstation
  namespace: flux-system
spec:
  interval: 10m0s
  path: ./apps/cluster1/maintenance-guix-image-workstation
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-rde-image-workstation
  namespace: flux-system
spec:
  interval: 10m0s
  path: ./apps/cluster1/maintenance-guix-rde-image-workstation
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: workstation-controller
  namespace: flux-system
spec:
  interval: 10m0s
  path: ./apps/base/workstation-controller
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: workstation
  namespace: flux-system
spec:
  interval: 10m0s
  path: ./apps/cluster1/workstation
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: workstation-staging
  namespace: flux-system
spec:
  interval: 10m0s
  path: ./apps/cluster1/workstation-staging
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: archlinux-builder
  namespace: flux-system
spec:
  interval: 10m0s
  path: ./apps/cluster1/archlinux-builder
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: guix-builder
  namespace: flux-system
spec:
  interval: 10m0s
  path: ./apps/cluster1/guix-builder
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: maintenance-guix-build-iso
  namespace: flux-system
spec:
  interval: 10m0s
  path: ./apps/cluster1/maintenance-guix-build-iso
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: vendir
  namespace: flux-system
spec:
  interval: 10m0s
  path: ./apps/cluster1/vendir
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: vendir-kube1
  namespace: flux-system
spec:
  interval: 10m0s
  path: ./apps/cluster1/vendir-kube1
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: kali
  namespace: flux-system
spec:
  interval: 10m0s
  path: ./apps/base/kali
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: tor-bridges
  namespace: flux-system
spec:
  interval: 10m0s
  path: ./apps/cluster1/tor-bridges
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
